(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{10:function(t,e,s){t.exports=s.p+"assets/img/device-instance-general-info.229a6c08.png"},11:function(t,e,s){t.exports=s.p+"assets/img/device-instance-run-info.db488b8d.png"},116:function(t,e,s){t.exports=s.p+"assets/img/save-mqtt-client.8e9f4a0b.png"},117:function(t,e,s){t.exports=s.p+"assets/img/emq-client-monitor.a5ca1624.png"},118:function(t,e,s){t.exports=s.p+"assets/img/start-mqtt-client.270e31b9.png"},119:function(t,e,s){t.exports=s.p+"assets/img/emq-mqtt-client-connected.0552cd35.png"},12:function(t,e,s){t.exports=s.p+"assets/img/device-instance-log.780e22d1.png"},120:function(t,e,s){t.exports=s.p+"assets/img/save-mqtt-client-gateway.1a46d814.png"},121:function(t,e,s){t.exports=s.p+"assets/img/emq-sub-mqtt-client-topic.df40bcac.png"},122:function(t,e,s){t.exports=s.p+"assets/img/mqtt-fx-config.783fc9e8.png"},349:function(t,e,s){"use strict";s.r(e);var a=s(0),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"启动mqtt客户端设备网关-接收设备消息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动mqtt客户端设备网关-接收设备消息"}},[t._v("#")]),t._v(" 启动MQTT客户端设备网关,接收设备消息")]),t._v(" "),a("p",[t._v("创建MQTT客户端设备网关,用于设备已连接到第三方MQTT服务上时，处理设备消息。")]),t._v(" "),a("h2",{attrs:{id:"一-创建mqtt客户端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-创建mqtt客户端"}},[t._v("#")]),t._v(" 一. 创建MQTT客户端")]),t._v(" "),a("p",[t._v("进入系统: "),a("code",[t._v("网络组件")]),t._v("-"),a("code",[t._v("组件管理")]),t._v(" 点击左侧菜单中的"),a("code",[t._v("MQTT客户端")]),t._v(" 添加一个MQTT客户端。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(116),alt:"add mqtt server"}})]),t._v(" "),a("h3",{attrs:{id:"测试连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试连接"}},[t._v("#")]),t._v(" 测试连接")]),t._v(" "),a("p",[t._v("使用"),a("a",{attrs:{href:"https://docs.emqx.io/broker/v3/cn/install.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("EMQ"),a("OutboundLink")],1),t._v("软件进行连接测试.")]),t._v(" "),a("p",[t._v("1."),a("a",{attrs:{href:"https://docs.emqx.io/broker/v3/cn/install.html#",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装"),a("OutboundLink")],1),t._v("完成EMQ，并启动")]),t._v(" "),a("p",[t._v("2.进入emq客户端监控界面")]),t._v(" "),a("p",[a("img",{attrs:{src:s(117),alt:"emq客户端监控"}})]),t._v(" "),a("p",[t._v("3.点击状态列中的"),a("code",[t._v("已停止")]),t._v("开启服务. 状态变为"),a("code",[t._v("已启动")]),t._v("则为启动完成.")]),t._v(" "),a("p",[a("img",{attrs:{src:s(118),alt:"启动mqtt客户单"}})]),t._v(" "),a("p",[t._v("4.在EMQ客户端监控列表中，看到客户端连接成功。表示mqtt客户端正常。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(119),alt:"emq监控mqtt客户端连接成功"}})]),t._v(" "),a("h2",{attrs:{id:"创建设备网关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建设备网关"}},[t._v("#")]),t._v(" 创建设备网关")]),t._v(" "),a("p",[t._v("新建设备网关配置")]),t._v(" "),a("p",[a("img",{attrs:{src:s(120),alt:"add device gateway"}})]),t._v(" "),a("h3",{attrs:{id:"设备网关连接测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设备网关连接测试"}},[t._v("#")]),t._v(" 设备网关连接测试")]),t._v(" "),a("h4",{attrs:{id:"前提条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),a("p",[t._v("i. 已在平台中创建产品和设备")]),t._v(" "),a("blockquote",[a("p",[t._v("创建产品和设备具体操作细节，请参考"),a("router-link",{attrs:{to:"/basics-guide/device-manager.md/#添加设备型号"}},[t._v("添加设备型号")]),t._v("、"),a("router-link",{attrs:{to:"/basics-guide/device-manager.md/#添加设备实例"}},[t._v("添加设备实例")]),t._v("。")],1),t._v(" "),a("p",[t._v("设备接入平台，请参考"),a("router-link",{attrs:{to:"/basics-guide/course/device-connection.html"}},[t._v("设备接入教程")])],1)]),t._v(" "),a("h4",{attrs:{id:"创建成功的设备实例信息展示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建成功的设备实例信息展示"}},[t._v("#")]),t._v(" 创建成功的设备实例信息展示")]),t._v(" "),a("p",[t._v("i. 设备基本信息")]),t._v(" "),a("p",[a("img",{attrs:{src:s(10),alt:"设备基本信息"}})]),t._v(" "),a("p",[t._v("ii. 设备运行状态信息")]),t._v(" "),a("p",[a("img",{attrs:{src:s(11),alt:"设备运行状态信息"}})]),t._v(" "),a("p",[t._v("iii. 设备日志")]),t._v(" "),a("p",[a("img",{attrs:{src:s(12),alt:"设备日志"}})]),t._v(" "),a("p",[t._v("使用"),a("a",{attrs:{href:"http://mqttfx.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTT.fx"),a("OutboundLink")],1),t._v("软件进行连接测试")]),t._v(" "),a("p",[t._v("1.启动网关:")]),t._v(" "),a("p",[t._v("i. 点击"),a("code",[t._v("操作")]),t._v("列中的"),a("code",[t._v("启动")]),t._v("按钮,启动网关。")]),t._v(" "),a("p",[t._v("ii. 在EMQ订阅监控列表中，看到有MQTT客户端设备网关新建时，设置的topics订阅记录，表示网关topic订阅成功。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(121),alt:"add mqtt server"}})]),t._v(" "),a("p",[t._v("2.使用MQTT.fx连接上EMQ")]),t._v(" "),a("p",[a("img",{attrs:{src:s(122),alt:"add mqtt server"}})]),t._v(" "),a("blockquote",[a("p",[t._v("注意：上图第2步中port为EMQ服务所暴露的端口")])]),t._v(" "),a("p",[t._v("3.发送设备上线消息到EMQ中")]),t._v(" "),a("p",[a("img",{attrs:{src:s(35),alt:"发送设备上线消息到EMQ中"}})]),t._v(" "),a("p",[t._v("4.设备上线表示设备设备网关连接成功")]),t._v(" "),a("p",[a("img",{attrs:{src:s(35),alt:"设备上线"}})]),t._v(" "),a("p",[t._v("网关状态说明:")]),t._v(" "),a("ol",[a("li",[t._v("停止:网关完全停止.不再接受设备连接,以及消息.重新启动后只会接受最新的连接以及消息。")]),t._v(" "),a("li",[t._v("暂停:网关不再接受新的设备连接,以及消息.重新启动后恢复处理之前的所有连接的消息。")]),t._v(" "),a("li",[t._v("启动:网关处理新的设备连接以及消息。")])]),t._v(" "),a("h2",{attrs:{id:"设备连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设备连接"}},[t._v("#")]),t._v(" 设备连接")]),t._v(" "),a("p",[t._v("参照"),a("router-link",{attrs:{to:"/basics-guide/course/device-connection.html"}},[t._v("使用自定义消息协议接入设备")]),t._v("进行设备配置,注册,以及连接,消息收发测试。")],1)])}),[],!1,null,null,null);e.default=r.exports},35:function(t,e,s){t.exports=s.p+"assets/img/mqttfx-publish-online-msg.69b60e75.png"}}]);