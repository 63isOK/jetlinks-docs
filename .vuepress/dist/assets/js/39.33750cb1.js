(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{366:function(t,a,e){"use strict";e.r(a);var s=e(0),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("strong",[t._v("Table of Contents")]),t._v(" "),e("em",[t._v("generated with "),e("a",{attrs:{href:"https://github.com/thlorenz/doctoc",target:"_blank",rel:"noopener noreferrer"}},[t._v("DocToc"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e8%a7%84%e5%88%99%e5%bc%95%e6%93%8e"}},[t._v("规则引擎")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e8%a7%84%e5%88%99%e6%a8%a1%e5%9e%8b"}},[t._v("规则模型")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e8%a7%84%e5%88%99%e8%8a%82%e7%82%b9"}},[t._v("规则节点")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba"}},[t._v("输入输出")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e8%bf%9e%e7%ba%bf"}},[t._v("连线")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e8%b0%83%e8%af%95"}},[t._v("调试")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e8%a7%84%e5%88%99%e5%ae%9e%e4%be%8b"}},[t._v("规则实例")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%90%af%e5%8a%a8"}},[t._v("启动")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e5%81%9c%e6%ad%a2"}},[t._v("停止")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e6%89%a7%e8%a1%8c"}},[t._v("执行")])])])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e8%8a%82%e7%82%b9%e6%94%af%e6%8c%81"}},[t._v("节点支持")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%ae%9a%e6%97%b6%e4%bb%bb%e5%8a%a1"}},[t._v("定时任务")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%ae%9a%e6%97%b6%e5%99%a8%e9%85%8d%e7%bd%ae%e9%a1%b9"}},[t._v("定时器配置项")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e9%80%9a%e7%9f%a5"}},[t._v("通知")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e"}},[t._v("参数说明")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e8%b7%af%e7%94%b1"}},[t._v("路由")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e6%b6%88%e6%81%af%e7%bd%91%e5%85%b3"}},[t._v("消息网关")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e6%b6%88%e6%81%af%e7%bd%91%e5%85%b3%e9%85%8d%e7%bd%ae%e9%a1%b9"}},[t._v("消息网关配置项")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e5%b8%b8%e7%94%a8topic"}},[t._v("常用topic")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#mqtt%e5%ae%a2%e6%88%b7%e7%ab%af"}},[t._v("MQTT客户端")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#mqtt%e5%ae%a2%e6%88%b7%e7%ab%af%e9%85%8d%e7%bd%ae%e9%a1%b9"}},[t._v("MQTT客户端配置项")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#mqtt%e5%ae%a2%e6%88%b7%e7%ab%af%e5%86%85%e7%bd%ae%e5%8f%98%e9%87%8f"}},[t._v("MQTT客户端内置变量")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#tcp%e5%ae%a2%e6%88%b7%e7%ab%af"}},[t._v("TCP客户端")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#tcp%e5%ae%a2%e6%88%b7%e7%ab%af%e9%85%8d%e7%bd%ae%e9%a1%b9"}},[t._v("TCP客户端配置项")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#tcp%e5%ae%a2%e6%88%b7%e7%ab%af%e5%86%85%e7%bd%ae%e5%8f%98%e9%87%8f"}},[t._v("TCP客户端内置变量")])])])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#websocket%e5%ae%a2%e6%88%b7%e7%ab%af"}},[t._v("WebSocket客户端")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#websocket%e5%ae%a2%e6%88%b7%e7%ab%af%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e"}},[t._v("WebSocket客户端参数说明")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#websocket%e5%ae%a2%e6%88%b7%e7%ab%af%e5%86%85%e7%bd%ae%e5%8f%98%e9%87%8f"}},[t._v("WebSocket客户端内置变量")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#http%e5%ae%a2%e6%88%b7%e7%ab%af"}},[t._v("HTTP客户端")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#http%e5%ae%a2%e6%88%b7%e7%ab%af%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e"}},[t._v("HTTP客户端参数说明")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#http%e5%ae%a2%e6%88%b7%e7%ab%af%e5%86%85%e7%bd%ae%e5%8f%98%e9%87%8f"}},[t._v("HTTP客户端内置变量")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#coap%e5%ae%a2%e6%88%b7%e7%ab%af"}},[t._v("CoAP客户端")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#coap%e5%ae%a2%e6%88%b7%e7%ab%af%e5%8f%82%e6%95%b0%e8%af%b4%e6%98%8e"}},[t._v("CoAP客户端参数说明")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#coap%e5%ae%a2%e6%88%b7%e7%ab%af%e5%86%85%e7%bd%ae%e5%8f%98%e9%87%8f"}},[t._v("CoAP客户端内置变量")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e6%89%a7%e8%a1%8csql"}},[t._v("执行SQL")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e6%89%a7%e8%a1%8csql%e9%85%8d%e7%bd%ae%e9%a1%b9"}},[t._v("执行SQL配置项")])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e6%89%a7%e8%a1%8csql%e8%af%b4%e6%98%8e"}},[t._v("执行SQL说明")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e5%ad%97%e6%ae%b5%e8%bd%ac%e6%8d%a2"}},[t._v("字段转换")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%ad%97%e6%ae%b5%e8%bd%ac%e6%8d%a2%e9%85%8d%e7%bd%ae%e9%a1%b9"}},[t._v("字段转换配置项")])])])]),t._v(" "),e("li",[e("a",{attrs:{href:"#%e5%8a%a8%e6%80%81%e8%84%9a%e6%9c%ac"}},[t._v("动态脚本")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e5%8a%a8%e6%80%81%e8%84%9a%e6%9c%ac%e9%85%8d%e7%bd%ae%e9%a1%b9"}},[t._v("动态脚本配置项")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#%e8%84%9a%e6%9c%ac%e6%a1%88%e4%be%8b"}},[t._v("脚本案例")])])])])])])])])]),t._v(" "),e("h1",{attrs:{id:"规则引擎"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规则引擎"}},[t._v("#")]),t._v(" 规则引擎")]),t._v(" "),e("p",[t._v("提供可视化,流程化的数据(逻辑)处理工具.")]),t._v(" "),e("h2",{attrs:{id:"规则模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规则模型"}},[t._v("#")]),t._v(" 规则模型")]),t._v(" "),e("p",[t._v("新建规则模型")]),t._v(" "),e("ul",[e("li",[t._v("登录物联网管理平台。")]),t._v(" "),e("li",[t._v("选择左侧导航栏，选择规则引擎 > 规则模型。")]),t._v(" "),e("li",[t._v("在规则模型板块中，单击"),e("code",[t._v("新建模型")]),t._v("操作按钮。")]),t._v(" "),e("li",[t._v("在弹出设计器中，拖拽节点和连线生成相应规则，填写模型id和名称点击"),e("code",[t._v("保存")]),t._v("。")]),t._v(" "),e("li",[t._v("规则模型提供配置的导出、导入（支持批量导入）、复制功能")])]),t._v(" "),e("p",[e("img",{attrs:{src:"images/rule-engine/new-rule-model.gif",alt:"新建规则模型"}})]),t._v(" "),e("h3",{attrs:{id:"规则节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规则节点"}},[t._v("#")]),t._v(" 规则节点")]),t._v(" "),e("ul",[e("li",[t._v("数据的处理逻辑由规则节点执行. 不同的节点类型需要不同的配置.")]),t._v(" "),e("li",[t._v("节点就像一个java方法,接收上一个节点的参数,处理之后输出到下一个节点.")]),t._v(" "),e("li",[t._v("节点之间使用"),e("code",[t._v("连线")]),t._v("进行连接,组成一个完整到流程.")]),t._v(" "),e("li",[t._v("节点可以不接收数据,只生产数据.如: "),e("code",[t._v("定时任务")]),t._v(","),e("code",[t._v("消息网关")]),t._v(".")]),t._v(" "),e("li",[t._v("节点可分布在不同的服务器上执行(专业版支持).")])]),t._v(" "),e("h3",{attrs:{id:"输入输出"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入输出"}},[t._v("#")]),t._v(" 输入输出")]),t._v(" "),e("p",[t._v("规则节点的输入和输出数据均为"),e("code",[t._v("RuleData")]),t._v("格式为:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//输入参数或者输出结果")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"attributes"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//拓展属性,通常用于传递节点产生的特殊变量,如异常信息等.")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("在一些节点里,会将"),e("code",[t._v("RuleData")]),t._v("转为内置变量以进行一些自定义操作,比如脚本执行,表达式判断等.\n通常情况下,内置变量与"),e("code",[t._v("RuleData")]),t._v("格式一致.例如:")]),t._v(" "),e("p",[t._v("上一节点输出"),e("code",[t._v("RuleData.data")]),t._v("为"),e("code",[t._v('{"username":"admin","password":"m123"}')]),t._v("\n内置变量会被转为"),e("code",[t._v("Map")]),t._v(",变成:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"attr"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//attributes的简写")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m123"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"username"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"admin"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//data里的数据被平铺里")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"password"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m123"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("在规则引擎节点中,大部分表达式使用的是"),e("code",[t._v("SpEL表达式")]),t._v(",所以要注意引用内置变量的方式为: "),e("code",[t._v("${#data[username]}")]),t._v(" 而不是"),e("code",[t._v("${#data.username}")]),t._v(".")])]),t._v(" "),e("h3",{attrs:{id:"连线"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连线"}},[t._v("#")]),t._v(" 连线")]),t._v(" "),e("p",[t._v("节点之间通过"),e("code",[t._v("连线")]),t._v("连接，"),e("code",[t._v("连线")]),t._v("保证多个节点连续执行和有序执行.连线类型分为: "),e("code",[t._v("连接")]),t._v("和"),e("code",[t._v("事件")]),t._v(".")]),t._v(" "),e("p",[e("code",[t._v("连接")]),t._v("表示当上一个节点输出数据后,数据会流入下一个节点.\n"),e("code",[t._v("事件")]),t._v("表示当上一个节点触发一下事件时,数据才会流入下一个节点.")]),t._v(" "),e("p",[e("code",[t._v("连线")]),t._v("可以指定条件,当满足条件表达式时,数据才会流入下一个节点. 条件表达式为"),e("code",[t._v("javascript")]),t._v(". 表达式返回"),e("code",[t._v("true")]),t._v("则表示满足条件.")]),t._v(" "),e("h3",{attrs:{id:"调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[t._v("#")]),t._v(" 调试")]),t._v(" "),e("p",[t._v("TODO")]),t._v(" "),e("h2",{attrs:{id:"规则实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#规则实例"}},[t._v("#")]),t._v(" 规则实例")]),t._v(" "),e("p",[t._v("TODO")]),t._v(" "),e("h3",{attrs:{id:"启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[t._v("#")]),t._v(" 启动")]),t._v(" "),e("p",[t._v("TODO")]),t._v(" "),e("h3",{attrs:{id:"停止"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止"}},[t._v("#")]),t._v(" 停止")]),t._v(" "),e("p",[t._v("TODO")]),t._v(" "),e("h3",{attrs:{id:"执行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行"}},[t._v("#")]),t._v(" 执行")]),t._v(" "),e("p",[t._v("TODO")]),t._v(" "),e("h1",{attrs:{id:"节点支持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#节点支持"}},[t._v("#")]),t._v(" 节点支持")]),t._v(" "),e("p",[t._v("通用说明")]),t._v(" "),e("ul",[e("li",[t._v("节点会在设计器中展示节点自身所需要的参数表单。")]),t._v(" "),e("li",[t._v("每个节点通用的表单参数有 节点ID、节点类型、节点名称、节点大小、节点颜色、调度规则")]),t._v(" "),e("li",[t._v("节点ID: 规则模型中每个节点的独立标识（自动生成不可修改）")]),t._v(" "),e("li",[t._v("节点类型: 节点所对应的功能类型（自动生成不可修改）")]),t._v(" "),e("li",[t._v("节点名称: 节点方块在设计器中所展示的名称")]),t._v(" "),e("li",[t._v("节点大小: 节点方块在设计器中的尺寸大小")]),t._v(" "),e("li",[t._v("节点颜色: 节点方块在设计器中展示的颜色")]),t._v(" "),e("li",[t._v("调度规则: 节点在集群中的哪些主机中运行（专业版支持）。")])]),t._v(" "),e("h2",{attrs:{id:"定时任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定时任务"}},[t._v("#")]),t._v(" 定时任务")]),t._v(" "),e("p",[t._v("定时任务节点用于需要周期性执行某业务规则。如定时同步数据")]),t._v(" "),e("h3",{attrs:{id:"定时器配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定时器配置项"}},[t._v("#")]),t._v(" 定时器配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("cron表达式")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("生成定时任务规则")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("cron表达式("),e("a",{attrs:{href:"http://cron.qqe2.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线cron表达式"),e("OutboundLink")],1),t._v(")")])])])]),t._v(" "),e("h2",{attrs:{id:"通知"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通知"}},[t._v("#")]),t._v(" 通知")]),t._v(" "),e("p",[t._v("通过此节点可调用消息通知组件进行消息发送.")]),t._v(" "),e("h3",{attrs:{id:"参数说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数说明"}},[t._v("#")]),t._v(" 参数说明")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("通知类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置通知类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("短信通知")])]),t._v(" "),e("tr",[e("td",[t._v("通知器")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置通知类型对应的配置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("选择通知器")])]),t._v(" "),e("tr",[e("td",[t._v("通知模板")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置通知需要发送的内容")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("选择通知模板")])])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("在通知模版中可使用规则引擎节点的内置变量,具体是否支持需要看通知器实现是否支持.")])]),t._v(" "),e("h2",{attrs:{id:"路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),e("p",[t._v("路由节点将数据转发到多个节点,通过连线条件可实现同一个数据进行不同的处理逻辑.")]),t._v(" "),e("h2",{attrs:{id:"消息网关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#消息网关"}},[t._v("#")]),t._v(" 消息网关")]),t._v(" "),e("p",[t._v("消息网关为平台内部的一个"),e("code",[t._v("消息总线")]),t._v(",统称"),e("code",[t._v("消息网关")]),t._v(",是一个基于"),e("code",[t._v("topic")]),t._v("实现消息的消息订阅与发布功能.通常用于订阅设备消息,进行处理.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("topic是一个以/分割的字符,与MQTT的topic类似. 支持通配符"),e("code",[t._v("**")]),t._v("和"),e("code",[t._v("*")]),t._v(",\n例如: "),e("code",[t._v("/device/*/online")]),t._v(" 表示所有的设备上线消息. "),e("code",[t._v("/device/**")]),t._v("表示所有设备的所有消息.")]),t._v(" "),e("p",[t._v("注意: 通配符不支持前后匹配. 例如"),e("code",[t._v("/device/dev*/")]),t._v(" 是不支持的.")])]),t._v(" "),e("h3",{attrs:{id:"消息网关配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#消息网关配置项"}},[t._v("#")]),t._v(" 消息网关配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("网关")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("选择要订阅的网关")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("默认网关")])]),t._v(" "),e("tr",[e("td",[t._v("类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置推送消息还是订阅消息")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("订阅消息")])]),t._v(" "),e("tr",[e("td",[t._v("Topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("订阅主题,多个主题使用逗号(,)分割")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/device/**")])])])]),t._v(" "),e("h3",{attrs:{id:"常用topic"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用topic"}},[t._v("#")]),t._v(" 常用topic")]),t._v(" "),e("p",[t._v("不同的Topic返回的消息格式不同,具体格式请查看对用topic定义文档.")]),t._v(" "),e("ul",[e("li",[t._v("设备消息Topic (TODO)")])]),t._v(" "),e("h2",{attrs:{id:"mqtt客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mqtt客户端"}},[t._v("#")]),t._v(" MQTT客户端")]),t._v(" "),e("p",[t._v("该节点使用网络组件中的Mqtt客户端进行消息订阅和消息推送。\n可使用此功能,将消息处理后通知给第三方MQTT服务.")]),t._v(" "),e("h3",{attrs:{id:"mqtt客户端配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mqtt客户端配置项"}},[t._v("#")]),t._v(" MQTT客户端配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("mqtt客户端")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置客户端基本配置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("选择MQTT客户端")])]),t._v(" "),e("tr",[e("td",[t._v("操作")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义mqtt客户端操作类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("订阅消息")])]),t._v(" "),e("tr",[e("td",[t._v("消息体类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("根据不同的类型解析为对应的数据")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("JSON")])]),t._v(" "),e("tr",[e("td",[t._v("主题Topic")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义推送或订阅消息的主题")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/topic/${#data.id}")])]),t._v(" "),e("tr",[e("td",[t._v("主题变量")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("将把topic中的占位符提取为变量传递到下一个节点(仅订阅生效)")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/{productId}/{deviceId}/event/{eventId}")])])])]),t._v(" "),e("h3",{attrs:{id:"mqtt客户端内置变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mqtt客户端内置变量"}},[t._v("#")]),t._v(" MQTT客户端内置变量")]),t._v(" "),e("p",[t._v("推送数据格式(由上一个节点传入):")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/1/a/event/temp"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可选,如果传递了topic则配置中的topic失效.")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可选,如果未设置则以配置项中的为准.")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//要推送的消息内容")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("订阅数据格式(将传入下一个节点):")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"topic"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/1/a/event/temp"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//主题topic")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"will"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"qos"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dup"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"retain"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clientId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"客户端Id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接收消息类型")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接收的消息内容,不同的消息类型,格式不同")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"vars"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//topic占位符变量")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"productId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"型号Id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"deviceId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"设备Id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eventId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"事件Id"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"tcp客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tcp客户端"}},[t._v("#")]),t._v(" TCP客户端")]),t._v(" "),e("p",[t._v("该节点使用网络组件中的TCP客户端进行消息订阅和消息推送")]),t._v(" "),e("h3",{attrs:{id:"tcp客户端配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tcp客户端配置项"}},[t._v("#")]),t._v(" TCP客户端配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("tcp客户端")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置客户端基本配置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("弹出框选择")])]),t._v(" "),e("tr",[e("td",[t._v("操作")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义tcp客户端操作类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("订阅消息")])]),t._v(" "),e("tr",[e("td",[t._v("消息体类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("订阅或发送消息体类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("JSON")])])])]),t._v(" "),e("h4",{attrs:{id:"tcp客户端内置变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tcp客户端内置变量"}},[t._v("#")]),t._v(" TCP客户端内置变量")]),t._v(" "),e("p",[t._v("推送数据格式(由上一步传入):")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BINARY"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息类型")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BASE64"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发送的消息")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("订阅数据格式:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BINARY"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息类型")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BASE64"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接收的消息")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"websocket客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#websocket客户端"}},[t._v("#")]),t._v(" WebSocket客户端")]),t._v(" "),e("p",[t._v("(专业版支持)")]),t._v(" "),e("p",[t._v("该节点使用网络组件中的Websocket客户端进行消息订阅和发布.")]),t._v(" "),e("h3",{attrs:{id:"websocket客户端参数说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#websocket客户端参数说明"}},[t._v("#")]),t._v(" WebSocket客户端参数说明")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("WebSocket客户端")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置客户端基本配置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("弹出框中选择")])]),t._v(" "),e("tr",[e("td",[t._v("操作")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义WebSocket客户端操作类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("订阅消息")])]),t._v(" "),e("tr",[e("td",[t._v("消息体类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义WebSocket客户端消息类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("JSON")])])])]),t._v(" "),e("h3",{attrs:{id:"websocket客户端内置变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#websocket客户端内置变量"}},[t._v("#")]),t._v(" WebSocket客户端内置变量")]),t._v(" "),e("p",[t._v("推送数据格式(由上一步传入):")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息类型")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发送的消息")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("订阅数据格式:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息类型")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接收的消息")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"http客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http客户端"}},[t._v("#")]),t._v(" HTTP客户端")]),t._v(" "),e("p",[t._v("(专业版支持)")]),t._v(" "),e("p",[t._v("使用网络组件中的HTTP客户端发起HTTP请求")]),t._v(" "),e("h3",{attrs:{id:"http客户端参数说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http客户端参数说明"}},[t._v("#")]),t._v(" HTTP客户端参数说明")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Http客户端")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置客户端基本配置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("弹出框中选择")])]),t._v(" "),e("tr",[e("td",[t._v("uri")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("资源详细路径")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/demo/user/${#data[id]}")])]),t._v(" "),e("tr",[e("td",[t._v("请求方式")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义Http请求方式")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("GET")])]),t._v(" "),e("tr",[e("td",[t._v("contentType")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义Http contentType")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("application/json")])]),t._v(" "),e("tr",[e("td",[t._v("请求消息体类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义Http客户端请求体的消息类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("JSON")])]),t._v(" "),e("tr",[e("td",[t._v("响应消息体类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义Http服务端响应的消息类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("JSON")])])])]),t._v(" "),e("h3",{attrs:{id:"http客户端内置变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http客户端内置变量"}},[t._v("#")]),t._v(" HTTP客户端内置变量")]),t._v(" "),e("p",[t._v("请求(通过上一步传入):")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"header"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"queryParameters"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//URL 参数")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息体")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("响应:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接收的消息")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接收消息类型 ")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"status"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"headers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求头名称"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"value"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求头值1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请求头值2"')]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"contentType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"application/json"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"coap客户端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#coap客户端"}},[t._v("#")]),t._v(" CoAP客户端")]),t._v(" "),e("p",[t._v("该节点使用网络组件中的CoAP客户端进行CoAP讲求")]),t._v(" "),e("h3",{attrs:{id:"coap客户端参数说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#coap客户端参数说明"}},[t._v("#")]),t._v(" CoAP客户端参数说明")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("CoAP客户端")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("设置客户端基本配置")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("弹出框中选择")])]),t._v(" "),e("tr",[e("td",[t._v("uri")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("资源详细路径")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("/demo/user/{id}")])]),t._v(" "),e("tr",[e("td",[t._v("请求方法")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义CoAP请求方式")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("GET")])]),t._v(" "),e("tr",[e("td",[t._v("消息体类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义CoAP客户端消息类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("JSON")])])])]),t._v(" "),e("h3",{attrs:{id:"coap客户端内置变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#coap客户端内置变量"}},[t._v("#")]),t._v(" CoAP客户端内置变量")]),t._v(" "),e("p",[t._v("请求参数(由上一节点传入):")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息内容")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"options"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//自定义Options")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payloadType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JSON"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可选,消息体类型")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可选,请求路径  ")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("响应结果:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//接收的消息")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/demo/user/{id}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//请求路径")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//响应状态码")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"options"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//options")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"success"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//响应结果")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"执行sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行sql"}},[t._v("#")]),t._v(" 执行SQL")]),t._v(" "),e("p",[t._v("该节点执行SQL语句.")]),t._v(" "),e("h3",{attrs:{id:"执行sql配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行sql配置项"}},[t._v("#")]),t._v(" 执行SQL配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("sql")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定义所选择数据源支持的sql语句")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("select 1")])])])]),t._v(" "),e("h3",{attrs:{id:"执行sql说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行sql说明"}},[t._v("#")]),t._v(" 执行SQL说明")]),t._v(" "),e("p",[t._v("当sql为查询时,查询的每一条结果都会被传入下一个节点.而不是传入整个结果集.")]),t._v(" "),e("h2",{attrs:{id:"字段转换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字段转换"}},[t._v("#")]),t._v(" 字段转换")]),t._v(" "),e("p",[t._v("该节点可转换数据的字段。如 source：a=1  target:b=1")]),t._v(" "),e("h3",{attrs:{id:"字段转换配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字段转换配置项"}},[t._v("#")]),t._v(" 字段转换配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("保留源字段")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("源字段是否保留在转换结果中")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")])]),t._v(" "),e("tr",[e("td",[t._v("转换规则")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("配置转换方式")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),e("ol",[e("li",[t._v("单击转换规则")]),t._v(" "),e("li",[t._v("在弹出框中，单击添加字段")]),t._v(" "),e("li",[t._v("输入原字段、目标字段、类型\n"),e("ul",[e("li",[t._v("原字段：需要转换的字段")]),t._v(" "),e("li",[t._v("目标字段：转换后生成的字段")]),t._v(" "),e("li",[t._v("字段类型： 该字段的数据类型")])])]),t._v(" "),e("li",[t._v("点击保存生成字段转换配置")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("源字段支持SpEL表达式")])]),t._v(" "),e("h2",{attrs:{id:"动态脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态脚本"}},[t._v("#")]),t._v(" 动态脚本")]),t._v(" "),e("p",[t._v("该节点可执行脚本,通过脚本进行一些自定义的逻辑.")]),t._v(" "),e("h3",{attrs:{id:"动态脚本配置项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态脚本配置项"}},[t._v("#")]),t._v(" 动态脚本配置项")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用途")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("是否必须")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("用例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("脚本语言")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定于将要执行的脚本语言类型")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("javascript")])]),t._v(" "),e("tr",[e("td",[t._v("脚本")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("定于将要执行的脚本")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),e("h4",{attrs:{id:"脚本案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#脚本案例"}},[t._v("#")]),t._v(" 脚本案例")]),t._v(" "),e("p",[t._v("javascrpt:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("\nhandler"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMessage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ruleData")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" map "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("java"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("utils"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HashMap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    map"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"payload"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello js"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" map"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),e("p",[t._v("groovy:")]),t._v(" "),e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[t._v("handler"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMessage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ruleData "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"messageType"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"READ_PROPERTY_REPLY"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"deviceId"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ruleData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deviceId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"messageId"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("ruleData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("messageId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"success"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"properties"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string gstring"}},[t._v('"test"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);