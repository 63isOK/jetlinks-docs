(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{385:function(e,v,t){"use strict";t.r(v);var r=t(0),_=Object(r.a)({},(function(){var e=this,v=e.$createElement,t=e._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命名"}},[e._v("#")]),e._v(" 命名")]),e._v(" "),t("h2",{attrs:{id:"java命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java命名"}},[e._v("#")]),e._v(" java命名")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("maven模块名小写,多个单词使用"),t("code",[e._v("-")]),e._v("连接")]),e._v(" "),t("p",[e._v("正确: device-manager\n错误: deviceManager")])]),e._v(" "),t("li",[t("p",[e._v("包名全部小写,多个单词使用多个目录层级.")]),e._v(" "),t("p",[e._v("正确: org.jetlinks.pro.device.instance\n错误: org.jetlinks.pro.deviceInstance")])]),e._v(" "),t("li",[t("p",[e._v("类名首字母大写,使用驼峰命名.")]),e._v(" "),t("p",[e._v("正确: DeviceInstance\n错误: Deviceinstance , Device_Instance")])]),e._v(" "),t("li",[t("p",[e._v("方法名首字母小写,使用驼峰命名. 名称要见名知义.")]),e._v(" "),t("p",[e._v("正确: findById(String id), deployDeviceInstance(List"),t("String",[e._v(" deviceInstanceIdList)\n错误: getData(String arg)")])],1)]),e._v(" "),t("li",[t("p",[e._v("局部变量首字母小写,使用驼峰命名. 名称要见名知义.")]),e._v(" "),t("p",[e._v("正确: String deviceId = device.getId();\n错误: String str = device.getId();")])]),e._v(" "),t("li",[t("p",[e._v("常量使用大写,多个单词使用"),t("code",[e._v("_")]),e._v("分割.")]),e._v(" "),t("p",[e._v('正确: static String DEFAULT_CONFIG = "1";\n错误: static String DEFAULTCONFIG = "1";')])])]),e._v(" "),t("h2",{attrs:{id:"java-接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-接口"}},[e._v("#")]),e._v(" java 接口")]),e._v(" "),t("p",[e._v("一个模块在需要提供给其他模块使用时,应该面向接口编程,对外提供相应的接口.并在当前模块提供默认的实现.")]),e._v(" "),t("p",[e._v("当一个模块是具体的业务功能实现时,大部分情况不需要写接口,如一个增删改查功能 不需要针对 "),t("code",[e._v("Service")]),e._v(" 写一个接口.")]),e._v(" "),t("h2",{attrs:{id:"restful-接口命名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restful-接口命名"}},[e._v("#")]),e._v(" Restful 接口命名")]),e._v(" "),t("p",[e._v("URL使用小写,多个单词使用"),t("code",[e._v("-")]),e._v("或者"),t("code",[e._v("/")]),e._v("分割,如:"),t("code",[e._v("device-info")]),e._v(","),t("code",[e._v("logger/system")]),e._v(".通常情况下应该使用URL来描述资源,\n使用HTTP METHOD("),t("code",[e._v("GET 查询")]),e._v(","),t("code",[e._v("POST 新增")]),e._v(","),t("code",[e._v("PUT 修改")]),e._v(","),t("code",[e._v("PATCH 修改不存在则新增")]),e._v(","),t("code",[e._v("DELETE 删除")]),e._v(")来描述对资源的操作.\n在一些特殊操作无法使用"),t("code",[e._v("HTTP METHOD")]),e._v("来描述操作的时候,使用"),t("code",[e._v("_")]),e._v("开头加动词来描述,如: device/_query")]),e._v(" "),t("pre",[t("code",[e._v("正确: GET /device-info/1\n错误: GET /deviceInfo/1  GET /device_info/1\n\n正确: GET /device/1\n错误: GET /getDevice?id=1 ,  GET /getDevice/1\n\n正确: GET /device/_query , POST /device/_query\n错误: GET /queryDevice , POST /queryDevice\n")])]),e._v(" "),t("h1",{attrs:{id:"响应式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#响应式"}},[e._v("#")]),e._v(" 响应式")]),e._v(" "),t("p",[e._v("JetLinks 使用全响应式("),t("a",{attrs:{href:"https://projectreactor.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("reactor"),t("OutboundLink")],1),e._v(")编程.")]),e._v(" "),t("p",[e._v("约定:")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("所有可能涉及到IO或者异步操作("),t("code",[e._v("网络请求")]),e._v(","),t("code",[e._v("数据库操作")]),e._v(","),t("code",[e._v("文件操作")]),e._v(")的方法,返回值全部为"),t("code",[e._v("Mono")]),e._v("或者"),t("code",[e._v("Flux")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("所有代码不运行出现阻塞操作,如: "),t("code",[e._v("Thread.sleep")]),e._v(","),t("code",[e._v("Mono.block")]),e._v(","),t("code",[e._v("Flux.block")]),e._v(".")])]),e._v(" "),t("li",[t("p",[e._v("响应式方法间调用,应该组装为同一个"),t("code",[e._v("Publisher")]),e._v(".")]),e._v(" "),t("p",[e._v("正确: return deviceService\n.findById(id)\n.flatMap(device->this.syncDeviceState(device));")]),e._v(" "),t("p",[e._v("错误: deviceService\n.findById(id)\n.subscribe(device->this.syncDeviceState(device).subscribe())")]),e._v(" "),t("p",[e._v("错误: this.syncDeviceState(deviceService.findById(id).block()).subscribe();")])])]),e._v(" "),t("p",[e._v("相关资料:")]),e._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"http://www.reactive-streams.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("reactive-streams"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://projectreactor.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("project-reactor"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/java/j-cn-with-reactor-response-encode/index.html?lnk=hmhm",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用 Reactor 进行反应式编程"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://space.bilibili.com/2494318",target:"_blank",rel:"noopener noreferrer"}},[e._v("simviso视频教程"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=_.exports}}]);