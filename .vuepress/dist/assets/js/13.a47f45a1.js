(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{319:function(t,s,a){t.exports=a.p+"assets/img/create-protocol.79ba582c.png"},320:function(t,s,a){t.exports=a.p+"assets/img/import-product-properties.4bc8a505.png"},321:function(t,s,a){t.exports=a.p+"assets/img/new-device-instance.c358aa7f.png"},322:function(t,s,a){t.exports=a.p+"assets/img/device-instance-general-info.f17cab80.png"},323:function(t,s,a){t.exports=a.p+"assets/img/device-instance-run-info.36024c37.png"},324:function(t,s,a){t.exports=a.p+"assets/img/create-mqtt-server.02ecffcb.png"},325:function(t,s,a){t.exports=a.p+"assets/img/mqtt-server-started.c1e403cf.png"},326:function(t,s,a){t.exports=a.p+"assets/img/create-mqtt-server-gateway.de5c69eb.png"},327:function(t,s,a){t.exports=a.p+"assets/img/device-run-info.1a98ef43.png"},328:function(t,s,a){t.exports=a.p+"assets/img/device-event-info.7cf4bc86.png"},365:function(t,s,a){"use strict";a.r(s);var e=a(0),v=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"快速开始"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#快速开始"}},[t._v("#")]),t._v(" 快速开始")]),t._v(" "),e("h2",{attrs:{id:"下载代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载代码"}},[t._v("#")]),t._v(" 下载代码")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/jetlinks/jetlinks-community.git "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" jetlinks-community\n\n")])])]),e("h2",{attrs:{id:"方式1-使用docker快速启动全部环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式1-使用docker快速启动全部环境"}},[t._v("#")]),t._v(" 方式1:使用docker快速启动全部环境")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" docker/run-all\n$ docker-compose up\n\n")])])]),e("h2",{attrs:{id:"方式2-使用docker启动开发环境-使用ide中启动jetlinks服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式2-使用docker启动开发环境-使用ide中启动jetlinks服务"}},[t._v("#")]),t._v(" 方式2:使用docker启动开发环境,使用IDE中启动JetLinks服务.")]),t._v(" "),e("p",[t._v("步骤1: 启动环境")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" docker/dev-env\n$ docker-compose up\n")])])]),e("p",[t._v("步骤2: 启动JetLinks服务")]),t._v(" "),e("p",[t._v("项目导入IDE后执行"),e("code",[t._v("jetlinks-standalone")]),t._v("模块下的"),e("code",[t._v("org.jetlinks.community.standalone.JetLinksApplication")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("项目需要使用最新的java8(小版本号大于200),如"),e("code",[t._v("1.8.0_232")])])]),t._v(" "),e("p",[t._v("步骤3: 启动UI")]),t._v(" "),e("p",[t._v("可以通过"),e("a",{attrs:{href:"https://github.com/jetlinks/jetlinks-ui-antd",target:"_blank",rel:"noopener noreferrer"}},[t._v("UI源码"),e("OutboundLink")],1),t._v("自行构建.")]),t._v(" "),e("p",[t._v("或者使用"),e("code",[t._v("docker")]),t._v("启动UI:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ docker run -it --rm -p "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9000")]),t._v(":80 -e "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"API_BASE_PATH=http://host.docker.internal:8848/"')]),t._v(" registry.cn-shenzhen.aliyuncs.com/jetlinks/jetlinks-ui-antd\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("环境变量"),e("code",[t._v("API_BASE_PATH")]),t._v("为后台API根地址. 由docker容器内进行自动代理. 请根据自己的系统环境配置环境变量: "),e("code",[t._v("API_BASE_PATH")])])]),t._v(" "),e("h2",{attrs:{id:"方式3-非docker环境启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方式3-非docker环境启动"}},[t._v("#")]),t._v(" 方式3:非docker环境启动")]),t._v(" "),e("p",[t._v("请先安装以下服务: "),e("code",[t._v("postgresql 11")]),t._v(","),e("code",[t._v("redis 5.x")]),t._v(","),e("code",[t._v("elasticsearch 6.7.2")]),t._v(".")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),e("p",[e("code",[t._v("postgresql")]),t._v("可更换为"),e("code",[t._v("mysql 5.7+")]),t._v("或者"),e("code",[t._v("sqlserver")]),t._v(",只需要修改配置中的"),e("code",[t._v("spring.r2dbc")]),t._v("和"),e("code",[t._v("easyorm")]),t._v("相关配置项即可.")])]),t._v(" "),e("p",[t._v("步骤1: 根据情况修改"),e("code",[t._v("jetlinks-standalone")]),t._v("模块下的配置文件:"),e("code",[t._v("application.yml")]),t._v("中相关配置.")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("redis")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 127.0.0.1 "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# redis配置")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("r2dbc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" r2dbc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("postgresql"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("5432/jetlinks  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库postgresql数据库配置")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" postgres\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jetlinks\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("easyorm")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("default-schema")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" public "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库默认的schema")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dialect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" postgres "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#数据库方言")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("elasticsearch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("client")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("host")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 127.0.0.1   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# elasticsearch")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9200")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hsweb")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("file")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("upload")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("static-file-path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ./static/upload   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 上传的文件存储路径")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("static-location")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8848/upload "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 上传的文件访问根地址")]),t._v("\n")])])]),e("p",[t._v("步骤2: 从"),e("code",[t._v("方式2")]),t._v("-"),e("code",[t._v("步骤2")]),t._v("开始.")]),t._v(" "),e("h2",{attrs:{id:"启动成功后访问系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动成功后访问系统"}},[t._v("#")]),t._v(" 启动成功后访问系统")]),t._v(" "),e("p",[t._v("地址: "),e("code",[t._v("http://localhost:9000")]),t._v(", 用户名:"),e("code",[t._v("admin")]),t._v(",密码:"),e("code",[t._v("admin")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"添加协议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加协议"}},[t._v("#")]),t._v(" 添加协议")]),t._v(" "),e("p",[t._v("进入"),e("code",[t._v("设备管理")]),t._v("-"),e("code",[t._v("协议管理")]),t._v(",点击"),e("code",[t._v("新建")]),t._v(".")]),t._v(" "),e("ul",[e("li",[t._v("协议名称: "),e("code",[t._v("演示协议")]),t._v(".")]),t._v(" "),e("li",[t._v("类型: "),e("code",[t._v("jar")]),t._v(".")]),t._v(" "),e("li",[t._v("类名: "),e("code",[t._v("org.jetlinks.demo.protocol.DemoProtocolSupportProvider")])]),t._v(" "),e("li",[t._v("上传jar包: 选择项目内文件: "),e("code",[t._v("simulator/demo-protocol-1.0.jar")])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(319),alt:"添加协议"}})]),t._v(" "),e("h2",{attrs:{id:"添加设备型号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加设备型号"}},[t._v("#")]),t._v(" 添加设备型号")]),t._v(" "),e("p",[t._v("进入"),e("code",[t._v("设备管理")]),t._v("-"),e("code",[t._v("型号管理")]),t._v(",点击"),e("code",[t._v("导入配置")]),t._v(". 选择项目内文件: "),e("code",[t._v("simulator/设备型号-演示设备.json")]),t._v(".")]),t._v(" "),e("p",[e("img",{attrs:{src:a(320),alt:"导入型号配置"}})]),t._v(" "),e("p",[t._v("导入成功后,点击"),e("code",[t._v("操作列")]),t._v("-"),e("code",[t._v("发布")]),t._v(",如果状态为"),e("code",[t._v("已发布")]),t._v(",则点击"),e("code",[t._v("停用")]),t._v("后重新发布.")]),t._v(" "),e("h2",{attrs:{id:"添加设备实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加设备实例"}},[t._v("#")]),t._v(" 添加设备实例")]),t._v(" "),e("p",[t._v("进入"),e("code",[t._v("设备管理")]),t._v("-"),e("code",[t._v("设备实例")]),t._v(",点击"),e("code",[t._v("新建")]),t._v(".")]),t._v(" "),e("ul",[e("li",[t._v("设备id: "),e("code",[t._v("demo-0")])]),t._v(" "),e("li",[t._v("设备名称: "),e("code",[t._v("演示设备0")])]),t._v(" "),e("li",[t._v("设备型号: "),e("code",[t._v("演示设备")])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(321),alt:"添加设备实例"}})]),t._v(" "),e("p",[t._v("点击确定,保存成功后, 点击"),e("code",[t._v("操作列")]),t._v("-"),e("code",[t._v("激活")]),t._v(". 点击"),e("code",[t._v("查看")]),t._v("可查看设备的基本信息以及"),e("code",[t._v("运行状态")])]),t._v(" "),e("p",[t._v("设备基本信息")]),t._v(" "),e("p",[e("img",{attrs:{src:a(322),alt:"设备基本信息"}})]),t._v(" "),e("p",[t._v("运行状态")]),t._v(" "),e("p",[e("img",{attrs:{src:a(323),alt:"运行状态"}})]),t._v(" "),e("h2",{attrs:{id:"启动mqtt服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动mqtt服务"}},[t._v("#")]),t._v(" 启动MQTT服务")]),t._v(" "),e("p",[t._v("进入"),e("code",[t._v("网络组件")]),t._v("-"),e("code",[t._v("组件管理")]),t._v(",点击"),e("code",[t._v("新增组件")]),t._v(".")]),t._v(" "),e("ul",[e("li",[t._v("组件名称: "),e("code",[t._v("MQTT服务")])]),t._v(" "),e("li",[t._v("组件类型: "),e("code",[t._v("MQTT服务")])]),t._v(" "),e("li",[t._v("线程数: "),e("code",[t._v("4")]),t._v(" 可根据实际情况调整,一般"),e("code",[t._v("不大于主机CPU核心数*2")])]),t._v(" "),e("li",[t._v("HOST: "),e("code",[t._v("0.0.0.0")])]),t._v(" "),e("li",[t._v("PORT: "),e("code",[t._v("1883")])]),t._v(" "),e("li",[t._v("TLS: "),e("code",[t._v("否")])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(324),alt:"创建mqtt服务组件"}})]),t._v(" "),e("p",[t._v("点击保存,保存成功后,点击"),e("code",[t._v("启动状态")]),t._v("切换启动状态为启动.")]),t._v(" "),e("p",[e("img",{attrs:{src:a(325),alt:"启动mqtt服务"}})]),t._v(" "),e("h2",{attrs:{id:"启动设备网关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动设备网关"}},[t._v("#")]),t._v(" 启动设备网关")]),t._v(" "),e("p",[t._v("进入"),e("code",[t._v("网络组件")]),t._v("-"),e("code",[t._v("设备网关")]),t._v(",点击"),e("code",[t._v("新建")]),t._v(".")]),t._v(" "),e("ul",[e("li",[t._v("名称: "),e("code",[t._v("MQTT网关")])]),t._v(" "),e("li",[t._v("类型: "),e("code",[t._v("MQTT服务设备网关")])]),t._v(" "),e("li",[t._v("网络组件: "),e("code",[t._v("MQTT服务")]),t._v(" 选择上一步创建的网络组件")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(326),alt:"启动mqtt服务"}})]),t._v(" "),e("p",[t._v("点击确定,保存成功后,点击操作列中的"),e("code",[t._v("启动")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"启动模拟器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动模拟器"}},[t._v("#")]),t._v(" 启动模拟器")]),t._v(" "),e("p",[t._v("进入项目目录:"),e("code",[t._v("simulator")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("   $ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" simulator\n   $ ./start.sh\n")])])]),e("p",[t._v("启动成功后控制台应该会输出:")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("...\ncreate mqtt client: 1 ok\n...\n开始上报设备事件\n成功推送设备事件:1\n\n")])])]),e("h2",{attrs:{id:"查看设备数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看设备数据"}},[t._v("#")]),t._v(" 查看设备数据")]),t._v(" "),e("p",[t._v("进入"),e("code",[t._v("设备实例")]),t._v(",点击查看"),e("code",[t._v("demo-0")]),t._v("设备,点击"),e("code",[t._v("运行状态")]),t._v(",可看到设备上报的数据.")]),t._v(" "),e("p",[t._v("设备运行状态信息")]),t._v(" "),e("p",[e("img",{attrs:{src:a(327),alt:"启动mqtt服务"}})]),t._v(" "),e("p",[t._v("设备上报的事件数据")]),t._v(" "),e("p",[e("img",{attrs:{src:a(328),alt:"启动mqtt服务"}})])])}),[],!1,null,null,null);s.default=v.exports}}]);